Детектор прямоугольных офбъектов с OpenCV.
Этот проект представляет собой простой скрипт на Python, использующий библиотеку OpenCV для обнаружения прямоугольных объектов (квадратов и прямоугольников) на изображениях. 
Код основан на методе аппроксимации контуров и анализе их свойств, как описано в туториале PyImageSearch. 
Проект включает класс ShapeDetector для идентификации фигур и скрипт для обработки изображений с визуализацией результатов.

Требования
Python 3.x
Библиотека OpenCV (opencv-python)
Аргументы командной строки (встроенный модуль argparse)

Установка зависимостей
Убедитесь, что у вас установлен Python 3 с помощью: python3 --version
Установите OpenCV с помощью pip:  pip3 install opencv-python

Проверьте установку:  python3 -c "import cv2; print(cv2.__version__)"

Установка и запуск
1. Сохранение кода
Скопируйте код из файла proga1.py в вашу рабочую директорию.
2. Подготовка тестового изображения

Используйте изображение с прямоугольными объектами (1.png или 2.png).
Изображение должно содержать четкие прямоугольники или квадраты на контрастном фоне (например, белые на черном).

3. Запуск скрипта
Откройте терминал в директории с файлом proga1.py и выполните:
python3 proga1.py --image путь/к/изображению/1.png

Замените путь/к/изображению/1.png на реальный путь к вашему изображению.
Например, если изображение в той же папке:python3 proga1.py --image 1.png


4. Результат
Откроется окно с изображением, где прямоугольные объекты будут обведены зеленой линией с надписью "rectangle" в центре.
В консоли отобразится количество найденных прямоугольных объектов (например, 'Найдено 3 прямоугольных объектов').
Нажмите любую клавишу, чтобы закрыть окно.

Описание кода
Функциональность

Класс ShapeDetector: Определяет форму контура на основе количества вершин и соотношения сторон (aspect ratio).
Прямоугольники и квадраты идентифицируются, если у контура 4 вершины.
Соотношение сторон 0.95–1.05 классифицирует фигуру как квадрат, иначе — как прямоугольник.


Предобработка: Изображение уменьшается до ширины 300 пикселей, преобразуется в градации серого, размыкается и бинаризуется с порогом 60.
Обнаружение: Контуры находят с помощью cv2.findContours, а прямоугольные объекты фильтруются и визуализируются.

Ограничения

Код работает только с прямоугольными объектами (4 вершины).
Порог 60 может не подходить для всех изображений. Для адаптации используйте порог Otsu (см. раздел "Настройка").

Настройка и улучшение
Настройка параметров

Если прямоугольники не обнаруживаются, попробуйте изменить порог в cv2.threshold. Например, замените:thresh = cv2.threshold(blurred, 60, 255, cv2.THRESH_BINARY)[1]

на:thresh = cv2.threshold(blurred, 0, 255, cv2.THRESH_BINARY + cv2.THRESH_OTSU)[1]

для автоматического определения порога.
Уменьшите коэффициент аппроксимации в cv2.approxPolyDP (например, с 0.04 до 0.02), если контуры теряют вершины.

Ожидаемый результат
Окно с визуализацией: прямоугольники обведены зеленым, с надписью "rectangle".
Консоль: Найдено X прямоугольных объектов, где X — количество найденных фигур.
