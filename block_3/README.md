## Описание

Этот проект представляет собой Python-скрипт, который обрабатывает видеофайл для обнаружения QR-кодов в каждом кадре, отрисовывает рамки вокруг обнаруженных QR-кодов и сохраняет обработанное видео в указанную папку. Также создается лог-файл с информацией о результатах обработки, включая данные QR-кодов, их координаты и уровень уверенности.

## Возможности

- Обнаружение QR-кодов в кадрах видео с использованием `cv2.QRCodeDetector`.
- Использование шаблонного соответствия с учетом поворотов и масштабирования для повышения точности обнаружения.
- Отрисовка рамок и данных QR-кодов на кадрах, где они обнаружены.
- Сохранение обработанных кадров в виде изображений и сборка их в выходное видео.
- Запись результатов обработки в лог-файл.
- Удаление временных изображений после создания видео.

## Требования

Для работы скрипта необходимы следующие Python-библиотеки:

- opencv-python
- numpy
- pyzbar
- qrcode

Установите зависимости с помощью:

```bash
pip install -r requirements.txt
```

## Установка

1. Склонируйте или загрузите этот репозиторий на ваш компьютер.
2. Убедитесь, что установлен Python версии 3.6 или выше.
3. Установите необходимые библиотеки:

   ```bash
   pip install -r requirements.txt
   ```
4. Поместите входной видеофайл (например, `1.mp4`) в директорию проекта или укажите его путь.

## Использование

Запустите скрипт из командной строки с указанием следующих аргументов:

```bash
python process_qr_video.py -v <путь_к_видео> -o <папка_для_выхода> -n <имя_видео> -l <файл_лога>
```

- `-v` или `--video_path`: Путь к входному видеофайлу (обязательный).
- `-o` или `--output_folder`: Папка для сохранения выходного видео и временных кадров (по умолчанию: `out`).
- `-n` или `--out_name`: Имя выходного видеофайла без расширения (по умолчанию: `output`).
- `-l` или `--log_file`: Путь к файлу лога (по умолчанию: `qr_log.txt`).

Пример:

```bash
python process_qr_video.py -v 1.mp4 -o out -n processed_video -l qr_log.txt
```

## Результаты

- **Лог-файл**: Содержит информацию об обработке, включая общее количество кадров, количество кадров с QR-кодами и детали по каждому кадру (номер кадра, данные QR-кода, координаты, уверенность).
- **Временные файлы**: Промежуточные изображения кадров сохраняются в папке `out` во время обработки и удаляются после создания видео.

## Пример вывода лога

```
Обработка видео: 1.mp4, 2025-10-21 12:30:45
Всего кадров: 240, Кадров с QR-кодом: 240
Кадр 0: Данные: https://github.com/Cube-module, Координаты: [(309, 636), (613, 636), (617, 941), (309, 941)], Уверенность: 0.00
...
```